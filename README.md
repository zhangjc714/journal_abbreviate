# Abbreviate the Journal Names in the `.bib` File

![img](./image.jpg)

A small command-line utility to replace full journal and conference names in a BibTeX (`.bib`) file with their standard abbreviations using a configurable mapping file.

This repository contains:

- `abbreviate.py` — main script that reads a `.bib` file, normalizes journal and booktitle field values, and replaces matched full names with abbreviations from `journal_list.txt`.
- `journal_list.txt` — plain-text mapping of "Full Name = Abbreviation" lines used by the script. This is a large list of journal and conference full names and their standard short forms (one mapping per line).
- Some examples.

## Features

- Replaces `journal` and `booktitle` fields in any BibTeX file with mapped abbreviations.
- Fuzzy normalization when matching: ignores case, extra whitespace, `\&` vs `&`, and minor punctuation differences.
- Produces a new file suffixed with `_abrv.bib` in the same directory as the input file.
- Prints statistics about total entries processed, number of target fields found, how many were modified, and which names were not matched.

## Mapping file format (`journal_list.txt`)

- Each mapping should be on its own line in the form:

  Full Journal or Conference Name = Abbreviation

- The script trims surrounding whitespace and uses a simple normalizer before matching. Example lines from `journal_list.txt`:

  Acta Materialia = Acta Mater.
  ACS Applied Materials & Interfaces = ACS Appl. Mater. Interfaces

- The mapping file is UTF-8 encoded.

## How it normalizes names

Normalization applied before matching:

- Converts to lowercase.
- Collapses multiple whitespace and minor punctuation characters (spaces, dots, commas, semicolons, colons) into single spaces.
- Replaces BibTeX `\&` with `&`.
- Strips surrounding braces and whitespace from field values before matching.

This makes the matching robust to small formatting differences between the `.bib` and the mapping file.

## Usage (PowerShell)

Open PowerShell and run:

```powershell
python .\abbreviate.py --file "C:\path\to\your\references.bib"
```

The script will create `references_abrv.bib` alongside the input file and print a summary to the console.

If you prefer to run from the repository folder where the file resides, you can use a relative or absolute path for `--file`.

## Example

Given a BibTeX entry with:

  journal = {Acta Materialia}

and a mapping `Acta Materialia = Acta Mater.` in `journal_list.txt`, the script will write the abbreviation:

  journal = {Acta Mater.}

## Output

- New file: same directory as input with `_abrv.bib` appended to the filename (e.g., `myrefs_abrv.bib`).
- Console summary with counts and list of unmatched journal/booktitle values.

## Extending the mapping

- To add or correct an abbreviation, edit `journal_list.txt` and add a line in the `Full Name = Abbreviation` format.
- Keep entries one-per-line. Avoid duplicates of the same full name (but small differences will be normalized).

## Limitations & Notes

- Matching is based on simple normalization; not all variations or typos will match. Unmatched names are reported so you can add mappings.
- The script only replaces `journal` and `booktitle` fields. Other fields (e.g., `series`) are not modified.
- The script assumes the input file is UTF-8 encoded and that `journal_list.txt` is located next to `abbreviate.py`.

## Troubleshooting

- If you get a `FileNotFoundError` for `journal_list.txt`, ensure you run the script from the repository where `abbreviate.py` and `journal_list.txt` live, or that both files are in the same directory.
- If no changes are made but you expect matches, check whether the exact name in the `.bib` entry differs (punctuation, extra qualifiers). Add the variant to `journal_list.txt` or adjust an existing mapping.

## Sources

- The `journal_list.txt` mapping was assembled with reference to two publicly available GitHub projects that provide journal abbreviation lists. These projects served as the primary sources for the abbreviation data (the file in this repository is a consolidated subset/combination for convenience):
  - [RH-Lin/abbreviate_pub_names_in_bib](https://github.com/RH-Lin/abbreviate_pub_names_in_bib)
  - [JitingTian/abbreviate_journal_names_in_bib](https://github.com/JitingTian/abbreviate_journal_names_in_bib)
- The `abbreviate.py` script and this `README.md` were generated by [ChatGPT](https://chatgpt.com/) and adapted to work with the provided `journal_list.txt` mapping and to follow the normalization and replacement behavior described above.
